<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title></title>
	<link rel="stylesheet" href="style.css" />
	<!-- click thru -->
	 <style>
		#clicktagger {
			background-color: rgba(255,255,255,0);
			cursor: pointer;
			width: 160px;
			height: 600px;
			left: 0px;
			position: absolute;
			top: 0px;
			z-index: 5000;
			cursor: pointer;
		}
	</style>
<script>
document.write('<script src="'+ (window.API_URL || 'https://s1.adform.net/banners/scripts/rmb/Adform.DHTML.js?bv='+ Math.random()) +'"><\/script>');
</script>
</head>

<body>
	<div id="clicktagger" onclick="javascript:window.open(dhtml.getVar('clickTAG'),'_blank');" 	onmouseover="javascript:this.style.cursor='pointer';" onmouseout="javascript:this.style.cursor='auto';"></div>
	<div id="ad">
		<div id="banner">
			<div id="copywrapper" class="set">
				<div id="copy1" class="set"><img src="images/copy1.svg"></div>
				<div id="copy2" class="set"><img src="images/copy2.svg"></div>
				<div id="copy3" class="set"><img src="images/copy3.svg"></div>
			</div>
			<div id="endframewrapper" class="set">
				<div id="bigO" class="set"><img src="images/bigO.png" width="169" height="169"></div>
				<div id="copy3a" class="set"><img src="images/copy3a.png" width="160" height="600"></div>
				<div id="copy3b" class="set"><img src="images/copy3b.png" width="160" height="600"></div>
			</div>
			<div id="bottombar" class="set"></div>
				<div id="cta" class="set"><img src="images/cta.png" width="160" height="600"></div>
				<div id="logo" class="set"><img src="images/logo.png" width="160" height="600"></div>
			<div id="overlay" class="set"></div>
			<div id="bg" class="set"><img src="images/bg.jpg" width="160" height="494"></div>
			
			<div id="guide" class="set"><img src="images/guide4.png" width="160" height="600"></div>
			
		 </div><!-- end banner -->
	</div>

	
<!-- greensock -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
<!--<script src="../GSDevTools.min.js"></script>-->
		<script>
				//GSDevtools
				//GSDevTools.create();
				
				function fadeIn(){
					var tl = gsap.timeline({id: "fadeIn"})
					tl.from(["#bg","#bottombar","#cta","#logo"], .5, { autoAlpha:0 })
					return tl;
				}

				function overlay1(){
					var tl = gsap.timeline({id: "overlay1"})
					tl.from(["#overlay"], 1, { autoAlpha:0 })
					return tl;
				}
				
				function rotate(){
					var tl = gsap.timeline({id: "rotate"});
					tl.from(["#copy1","#copy2","#copy3"], 3.4, { transformOrigin: "50% 52%", rotate: -20 })
					return tl;
				}
				
				function copy1(){
					var tl = gsap.timeline({id: "copy1"});
					tl.from(["#copywrapper"], 1, { scale:.1, x: -10, y: 450, ease:"power2.out" })
					  .to(["#copy1"], 1, { autoAlpha: 1 },"-=1")
					return tl;
				}
				
				function copy2(){
					var tl = gsap.timeline({id: "copy2"});
						//hide wrapper
					tl.to(["#copywrapper"], .7, { x: 190, y: -205, ease:"power1.inout"  })
					  .to(["#copy1,#copy2","#copy3"], .7 , { transformOrigin: "50% 52%", rotate:180, ease:"power1.inout" }, "-=.7")
					  .to(["#copy1"], .75, { autoAlpha: 0 },"-=.25")
					  .to(["#copy2"], .75, { autoAlpha: 1 },"-=.75")
					  //reveal wrapper
					  .to(["#copywrapper"], 1, { scale:.5, x: -20, y: -10, ease:"power1.in" },"-=.6")
					  .to(["#copy1,#copy2","#copy3"], 1, { transformOrigin: "50% 52%", rotate:340  }, "-=1")
					  .to(["#copy1","#copy2","#copy3"], 3, { rotate: "+=10" })
					  
					  //hide wrapper
					  .to(["#copywrapper"], 1, { x: 190, y: -205, },"-=1")
					  .to(["#copy1,#copy2","#copy3"], 1 , { transformOrigin: "50% 52%", rotate:540, ease:"power1.inout" }, "-=1")
					  .to(["#copy2"], .75, { autoAlpha: 0 },"-=.25")
					  .to(["#copy3"], .75, { autoAlpha: 1 },"-=.75")
					  
					   //reveal wrapper
					  .to(["#copywrapper"], 1, { scale:.5, x: -20, y: 0 },"-=.6")
					  .to(["#copy1,#copy2","#copy3"], 1, { transformOrigin: "50% 52%", rotate:730 }, "-=1")
					  .to(["#copy1","#copy2","#copy3"], 3, { rotate: "+=10" })
					  
					return tl;
				}

				function endframe(){
					var tl = gsap.timeline({id: "endframe"});
					tl.to(["#overlay"], .5, { backgroundColor:"#e9f2fa", opacity: 1, ease:"power2.out" })
					  .to("#copywrapper", .5, {autoAlpha: 0},"-=.5")
					  .to(["#endframewrapper","#bigO"], 1, {autoAlpha: 1},"-=1")
					  .to(["#copy3a","#copy3b"], .5, { stagger: 0.5, autoAlpha: 1},"+=.25")
					  .to(["#cta"], .5, { scale: 1.05, repeat: 1, yoyo: true },"+=1")
					return tl;
				}
				
				function rotate2(){
					var tl = gsap.timeline({id: "rotate2"});
					tl.to(["#bigO"], 7, { transformOrigin: "50% 50%", rotate: 180 })
					return tl;
				}
				

				var master = new TimelineMax ();
				
				//master timeline
				master.add(fadeIn())
					  .add(overlay1(),.75)
					  .add(rotate(),1)
					  .add(copy1(),1)
					  .add(copy2(),4)
					  .add(endframe(), 11)
					  .add(rotate2(),8)
				
				;
		</script><!-- end greensock animation -->
		

</body>
<script>
	var clickTag = "";
	
		function bgExitHandler(e) {
		window.open(window.clickTag);
		console.log("clicked");
	}
	document.getElementById('bg-exit').addEventListener('click', bgExitHandler, false);
  </script>
</html>